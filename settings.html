<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings · Kew Garden Flowers</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#e0724c" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="icons/icon-192.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Work+Sans:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="brand">
        <span class="brand-mark">K</span>
        <div>
          <p class="brand-name">Kew Garden Flowers</p>
          <p class="brand-tagline">Settings</p>
        </div>
      </div>
      <a href="index.html" class="ghost-button">← Back</a>
    </header>

    <main>
      <section class="hero">
        <h1>Settings</h1>
        <p>Manage bouquet types, pricing, and app preferences.</p>
      </section>

      <section class="tab-panel active">
        <div class="panel-header">
          <h2>Bouquet Types</h2>
          <button id="addBouquetButton" class="primary-button">
            + Add bouquet type
          </button>
        </div>

        <div
          id="bouquetsList"
          class="card-list"
          role="list"
          style="margin-top: 1.5rem"
        >
          <!-- Bouquet items will be inserted here -->
        </div>

        <p class="empty-state" data-for="bouquets" style="margin-top: 2rem">
          No bouquet types yet. Add your first bouquet to get started.
        </p>
      </section>
    </main>

    <!-- Bouquet Edit Dialog -->
    <div
      id="bouquetDialog"
      class="modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="bouquetFormTitle"
      hidden
    >
      <div class="modal-overlay" data-close-bouquet-dialog></div>
      <div class="modal-content">
        <form id="bouquetForm">
          <header>
            <h2 id="bouquetFormTitle">New bouquet type</h2>
            <button
              type="button"
              class="ghost-button"
              id="closeBouquetDialog"
              aria-label="Close"
            >
              ✕
            </button>
          </header>
          <section class="form-grid">
            <div class="input-group span-2">
              <label for="bouquetName">Bouquet name</label>
              <input
                id="bouquetName"
                name="bouquetName"
                type="text"
                required
                placeholder="e.g., Peony Sunrise"
              />
            </div>
            <div class="input-group">
              <label for="bouquetPrice">Default price (HKD)</label>
              <input
                id="bouquetPrice"
                name="bouquetPrice"
                type="number"
                step="0.01"
                placeholder="1500.00"
              />
            </div>
            <div class="input-group">
              <label for="bouquetActive">Status</label>
              <select id="bouquetActive" name="bouquetActive">
                <option value="true">Active</option>
                <option value="false">Inactive</option>
              </select>
            </div>
            <div class="input-group span-2">
              <label for="bouquetDescription">Description (optional)</label>
              <textarea
                id="bouquetDescription"
                name="bouquetDescription"
                rows="2"
                placeholder="Describe the bouquet style..."
              ></textarea>
            </div>
          </section>
          <footer>
            <button class="ghost-button" type="button" id="deleteBouquet">
              Delete
            </button>
            <button class="primary-button" type="submit">
              Save bouquet type
            </button>
          </footer>
        </form>
      </div>
    </div>

    <div class="toast" role="status" aria-live="polite" hidden></div>

    <template id="bouquetCardTemplate">
      <article class="card bouquet-card" role="listitem" draggable="true">
        <div style="display: flex; align-items: center; gap: 0.75rem">
          <span
            class="drag-handle"
            style="cursor: move; font-size: 1.2rem; color: var(--text-muted)"
            >⋮⋮</span
          >
          <div style="flex: 1">
            <header
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0.5rem;
              "
            >
              <h3 class="card-title" style="margin: 0"></h3>
              <span class="status-pill"></span>
            </header>
            <p class="card-detail bouquet-price" style="margin: 0"></p>
            <p
              class="card-detail bouquet-description"
              style="margin: 0.25rem 0 0 0"
            ></p>
          </div>
        </div>
        <footer style="display: flex; gap: 0.5rem; margin-top: 0.75rem">
          <button class="ghost-button btn-edit" style="flex: 1">Edit</button>
          <button class="ghost-button btn-toggle" style="flex: 1"></button>
        </footer>
      </article>
    </template>

    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/settings.js"></script>
  </body>
</html>

